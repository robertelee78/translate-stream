  ┌───────────────────────────────────────────────────────────────────────────┐
  │                      TRANSLATE-STREAM (SONIOX-ONLY)                       │
  │                                                                           │        
  └───────────────────────────────────────────────────────────────────────────┘

  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐
  │   USER CLI   │◀-│  AUDIO INPUT │  │   MP3 FILE   │  │  MICROPHONE  │
  └──────┬───────┘  └──────┬───────┘  └──────┬───────┘  └──────┬───────┘
         │                 │                 │                 │
         ▼                 └─────────────────┴─────────────────┘
  ┌──────────────────────────────────────────────────────────────────────┐
  │                       translate-stream.sh                            │
  │                    (loads .env, calls Python)                        │
  └──────────────────────────────────────────────────────────────────────┘
                                   │
                                   ▼
  ┌──────────────────────────────────────────────────────────────────────┐
  │                    src.transcribe.__main__.py                        │
  │                         (Click CLI)                                  │
  │         Options: -i, -l, -o, -t (translate), --api-key               │
  └──────────────────────────────────────────────────────────────────────┘
                                   │
                                   ▼
  ┌──────────────────────────────────────────────────────────────────────┐
  │                        SonioxTranscribe                              │
  │                    (soniox_transcribe.py)                            │
  │         Single provider, streamlined for Soniox-only                 │
  └──────────────────────────────────────────────────────────────────────┘
                                   │
                      ┌────────────┴────────────┐
                      ▼                          ▼
           ┌──────────────────┐        ┌──────────────────┐
           │  MIC STREAMING   │        │  FILE STREAMING  │
           │   (PyAudio)      │        │  (FFmpeg->PCM)   │
           └──────────────────┘        └──────────────────┘
                      │                          │
                      └────────────┬─────────────┘
                                   ▼
           ┌──────────────────────────────────────────────┐
           │            SonioxProvider                    │
           │         (soniox_provider.py)                 │
           │                                              │
           │  ┌─────────────────────────────────────────┐ │
           │  │      WebSocket Connection               │ │
           │  │   wss://stt-rt.soniox.com               │ │
           │  └─────────────────────────────────────────┘ │
           │                                              │
           │  ┌─────────────────────────────────────────┐ │
           │  │    Configuration                        │ │
           │  │  - model: stt-rt-preview                │ │
           │  │  - audio_format: pcm_s16le              │ │
           │  │  - sample_rate: 16000 Hz                │ │
           │  │  - language_hints: [en, hr]             │ │
           │  │  - translation: two_way EN↔HR           │ │
           │  └─────────────────────────────────────────┘ │
           │                                              │
           │  ┌─────────────────────────────────────────┐ │
           │  │         Token Processing                │ │
           │  │                                         │ │
           │  │  With Translation Enabled:              │ │
           │  │  ┌─────────────┐  ┌─────────────┐       │ │
           │  │  │  Original   │  │ Translation │       │ │
           │  │  │   Buffer    │  │   Buffer    │       │ │
           │  │  └──────┬──────┘  └──────┬──────┘       │ │
           │  │         ▼                ▼              │ │
           │  │  [status:original] [status:translation] │ │
           │  └─────────────────────────────────────────┘ │
           └──────────────────────────────────────────────┘
                                   │
                                   ▼
           ┌──────────────────────────────────────────────┐
           │              OUTPUT FORMATS                  │
           │                                              │
           │  ┌──────────┐  ┌──────────┐  ┌──────────┐    │
           │  │   TEXT   │  │   JSON   │  │   CSV    │    │
           │  └──────────┘  └──────────┘  └──────────┘    │
           └──────────────────────────────────────────────┘
                                   │
                                   ▼
           ┌───────────────────────────────────────────────┐
           │            STDOUT / CONSOLE                   │
           └───────────────────────────────────────────────┘
                                   │
                          (JSON pipe for GUI)
                                   │
                                   ▼
  ┌───────────────────────────────────────────────────────────────────────────┐
  │                         TRANSLATION GUI (Optional)                        │
  │                         translation_gui/main.py                           │
  │                                                                           │
  │  ┌──────────────────────────────────────────────────────────────────────┐ │
  │  │                      Kivy Framework (2.2.0)                          │ │
  │  │                                                                      │ │
  │  │  ┌─────────────────┐           ┌─────────────────┐                   │ │
  │  │  │  English Panel  │           │ Croatian Panel  │                   │ │
  │  │  │                 │           │                 │                   │ │
  │  │  │  ┌───────────┐  │           │  ┌───────────┐  │                   │ │
  │  │  │  │  Original │  │           │  │  Original │  │                   │ │
  │  │  │  │   (blue)  │  │           │  │   (blue)  │  │                   │ │
  │  │  │  └───────────┘  │           │  └───────────┘  │                   │ │
  │  │  │                 │           │                 │                   │ │
  │  │  │  ┌───────────┐  │           │  ┌───────────┐  │                   │ │
  │  │  │  │Translation│  │           │  │Translation│  │                   │ │
  │  │  │  │   (teal)  │  │           │  │   (teal)  │  │                   │ │
  │  │  │  └───────────┘  │           │  └───────────┘  │                   │ │
  │  │  └─────────────────┘           └─────────────────┘                   │ │
  │  │                                                                      │ │
  │  │  Features:                                                           │ │
  │  │  - Real-time message bubbles (iMessage style)                        │ │
  │  │  - Click-to-edit with auto re-translation                            │ │
  │  │  - Audio visualization                                               │ │
  │  │  - Text input for typed translations                                 │ │
  │  │  - Export to JSON/HTML/Text                                          │ │
  │  └──────────────────────────────────────────────────────────────────────┘ │
  │                                                                           │
  │                        OpenAI GPT-5 Translation                           │
  │                    (text_translator.py - GUI only)                        │
  └───────────────────────────────────────────────────────────────────────────┘
